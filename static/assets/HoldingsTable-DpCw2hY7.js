import{r as h,j as e,S as T,C as k,T as w,a as F,b as a,c as l,d as _,e as r,B as H}from"./index-BQRImyPS.js";const S=h.memo(function({holdings:d,totalMarketValue:f}){const i=f||1,{equityHoldings:c,debtHoldings:m,otherHoldings:p,equityTotal:j,debtTotal:N,otherTotal:v}=h.useMemo(()=>{const t=[],s=[],u=[];let g=0,b=0,y=0;return d.forEach(o=>{o.category==="Equity"?(t.push(o),g+=o.market_value):o.category==="Fixed Income"?(s.push(o),b+=o.market_value):(u.push(o),y+=o.market_value)}),{equityHoldings:t,debtHoldings:s,otherHoldings:u,equityTotal:g,debtTotal:b,otherTotal:y}},[d]),n=(t,s)=>e.jsxs(a,{className:"bg-muted/30 border-t-2 border-border",children:[e.jsxs(r,{colSpan:2,className:"px-4 py-3 sm:px-8 sm:py-5 font-bold text-foreground",children:[t," Total"]}),e.jsxs(r,{className:"px-4 py-3 sm:px-8 sm:py-5 text-right",children:[e.jsx("div",{className:"font-bold text-foreground font-mono text-base",children:(s/1e5).toFixed(2)}),e.jsxs("div",{className:"text-[10px] text-muted-foreground font-bold font-mono",children:[(s/i*100).toFixed(1),"%"]})]}),e.jsx(r,{colSpan:2})]}),x=(t,s)=>e.jsxs(a,{className:"hover:bg-muted/50",children:[e.jsxs(r,{className:"px-4 py-3 sm:px-8 sm:py-5",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"font-bold text-foreground text-sm",children:t.scheme_name}),t.style_category&&e.jsx(H,{variant:"secondary",className:"text-[10px] uppercase",children:t.style_category})]}),e.jsx("div",{className:"text-[10px] text-muted-foreground font-bold uppercase tracking-wider",children:t.sub_category})]}),e.jsx(r,{className:"px-4 py-3 sm:px-8 sm:py-5",children:e.jsx("div",{className:"text-xs font-mono text-muted-foreground",children:t.date_of_entry||"-"})}),e.jsxs(r,{className:"px-4 py-3 sm:px-8 sm:py-5 text-right",children:[e.jsx("div",{className:"font-bold text-foreground font-mono",children:((t.market_value||0)/1e5).toFixed(2)}),e.jsxs("div",{className:"text-[10px] text-muted-foreground font-bold font-mono",children:[((t.market_value||0)/i*100).toFixed(1),"%"]})]}),e.jsxs(r,{className:`px-4 py-3 sm:px-8 sm:py-5 text-right font-bold font-mono ${(t.gain_loss??0)>=0?"text-primary":"text-destructive"}`,children:[t.return_pct??0,"%"]}),e.jsxs(r,{className:"px-4 py-3 sm:px-8 sm:py-5 text-right",children:[e.jsx("div",{className:`font-bold font-mono text-sm ${(t.xirr??0)>=0?"text-green-500":"text-red-500"}`,children:t.xirr?t.xirr.toFixed(1)+"%":"-"}),e.jsxs("div",{className:"text-[10px] text-muted-foreground font-bold font-mono",children:["BM: ",t.benchmark_xirr?t.benchmark_xirr.toFixed(1)+"%":"-"]})]})]},s);return e.jsxs("div",{className:"mt-12 pt-12 border-t border-border",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 mb-6",children:[e.jsx("h3",{className:"font-bold text-xl text-foreground",children:"Full Holding List"}),e.jsx(T,{title:"Full Holding List",content:e.jsx(e.Fragment,{children:"All holdings from your statement: scheme name, category, market value (in Lakhs), allocation % of portfolio, return %, and style (e.g. Growth). Value = units × NAV; allocation = holding value ÷ total portfolio × 100; return = gain/loss % on cost. Holdings are grouped by Equity and Debt with subtotals."})})]}),e.jsx(k,{className:"border-border overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto -mx-4 sm:mx-0 px-4 sm:px-0",children:e.jsxs(w,{children:[e.jsx(F,{children:e.jsxs(a,{className:"bg-muted border-b border-border",children:[e.jsx(l,{className:"text-[10px] sm:text-xs font-bold uppercase tracking-widest px-4 py-3 sm:px-8 sm:py-5",children:"Fund Name / Category"}),e.jsx(l,{className:"text-[10px] sm:text-xs font-bold uppercase tracking-widest px-4 py-3 sm:px-8 sm:py-5",children:"Entry Date"}),e.jsx(l,{className:"text-[10px] sm:text-xs font-bold uppercase tracking-widest px-4 py-3 sm:px-8 sm:py-5 text-right",children:"Value (Lakhs) / Allocation"}),e.jsx(l,{className:"text-[10px] sm:text-xs font-bold uppercase tracking-widest px-4 py-3 sm:px-8 sm:py-5 text-right",children:"Abs Returns"}),e.jsx(l,{className:"text-[10px] sm:text-xs font-bold uppercase tracking-widest px-4 py-3 sm:px-8 sm:py-5 text-right",children:"XIRR / BM"})]})}),e.jsxs(_,{children:[c.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(a,{className:"bg-primary/10",children:e.jsx(r,{colSpan:5,className:"px-4 py-2 sm:px-8 sm:py-3 font-bold text-sm uppercase tracking-wider text-primary",children:"Equity"})}),c.map((t,s)=>x(t,`eq-${s}`)),n("Equity",j)]}),m.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(a,{className:"bg-primary/10",children:e.jsx(r,{colSpan:5,className:"px-4 py-2 sm:px-8 sm:py-3 font-bold text-sm uppercase tracking-wider text-primary",children:"Fixed Income / Debt"})}),m.map((t,s)=>x(t,`debt-${s}`)),n("Debt",N)]}),p.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(a,{className:"bg-primary/10",children:e.jsx(r,{colSpan:5,className:"px-4 py-2 sm:px-8 sm:py-3 font-bold text-sm uppercase tracking-wider text-primary",children:"Others"})}),p.map((t,s)=>x(t,`other-${s}`)),n("Others",v)]})]})]})})})]})});export{S as HoldingsTable};
